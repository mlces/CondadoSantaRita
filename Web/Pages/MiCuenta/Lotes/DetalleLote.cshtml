@page
@using Web.Utilities
@model Web.Pages.MiCuenta.Lotes.DetalleLoteModel
@{
    ViewData["Title"] = "Detalle Lote";
}
<section class="csr-section-profile">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h5>Información del lote</h5>
                <div class="row">
                    <div class="col-md-6 mb-3"><label class="form-label">Código de lote</label><input type="text" class="form-control" readonly="" value="@Model.Contract.Property.Code"></div>
                    <div class="col-md-6 mb-3"><label class="form-label">Plan de pago</label><input type="text" class="form-control" readonly="" value="@Model.Contract.PaymentPlan.Name"></div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3"><label class="form-label">Día de pago del mes</label><input type="text" class="form-control" readonly="" value="@Model.Contract.PaymentDay"></div>
                    <div class="col-md-6 mb-3"><label class="form-label">Acumulado actual</label><input type="text" class="form-control" readonly="" value="@Model.Contract.BalancePaid.ToCurrency()"></div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3"><label class="form-label">Saldo actual</label><input type="text" class="form-control" readonly="" value="@Model.Contract.BalancePayable.ToCurrency()"></div>
                    <div class="col-md-6 mb-3"><label class="form-label">Fecha de compra</label><input type="text" class="form-control" readonly="" value="@Model.Contract.RegistrationDate"></div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="csr-section-lotes">
    <div class="container">
        <h5>Historial de pagos</h5>
        <div class="table-responsive">
            <table class="table">
                <thead class="text-white csr-table-header">
                    <tr>
                        <th>#</th>
                        <th>Abono</th>
                        <th>Fecha</th>
                        <th>Comprobante</th>
                    </tr>
                </thead>
                <tbody class="table-group-divider">
                    @foreach (var item in Model.Payments)
                    {
                        <tr>
                            <td>@item.PaymentNumber</td>
                            <td>@item.TotalAmount.ToCurrency()</td>
                            <td>@item.RegistrationDate</td>
                            <td>
                                <a class="btn btn-warning" asp-page="/MiCuenta/Pagos/Comprobante" asp-route-id="@item.PaymentId" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="fs-4">
                                        <path d="M11 5C11 4.44772 11.4477 4 12 4C12.5523 4 13 4.44772 13 5V12.1578L16.2428 8.91501L17.657 10.3292L12.0001 15.9861L6.34326 10.3292L7.75748 8.91501L11 12.1575V5Z" fill="currentColor"></path>
                                        <path d="M4 14H6V18H18V14H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V14Z" fill="currentColor"></path>
                                    </svg>
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</section>